<app-navbar></app-navbar>

<div
  class="
    min-h-screen
    flex
    justify-center
    bg-gray-100
    py-12
    px-4
    sm:px-6
    lg:px-8
  "
>
  <form
    action="#"
    method="POST"
    [formGroup]="EndorsementF"
    (ngSubmit)="endorseS()"
  >
    <div class="place-self-center p-4">
      <h1 class="text-3xl text-center font-extrabold text-gray-900">
        Fill out Endorsement Form
      </h1>
    </div>

    <div class="shadow overflow sm:rounded-md">
      <div class="px-4 py-5 bg-white sm:p-6">
        <!-- <h2 class="flex my-8 text-base font-medium text-gray-700">
          - Eligible practicum students who would like to request for recommendation letter should properly accomplish this form.
          - Contact your Practicum Coordinator to seek for approval if you need to request for more than two (2) letters.
          - Status of your request will be posted by the Practicum 2  Coordinator at your Blackboard course site.
        </h2> -->
        <div class="col-span-6 sm:col-span-3 lg:col-span-3 mb-6">
          <label
            for="specialization"
            class="block text-sm font-medium text-gray-700"
          >
            <span class="text-red-500">*</span>Prefix:
          </label>
          <select
            id="specialization"
            formControlName="studentTitle"
            required
            class="
              mt-1
              block
              w-full
              py-2
              px-3
              border
              bg-white
              rounded-md
              shadow-sm
              focus:outline-none focus:ring-blue-500
              border-blue-500
              sm:text-sm
            "
            *ngFor="let program of Program"
          >
            <option value="Mr.">Mr.</option>
            <option value="Ms.">Ms.</option>
          </select>
          <span
            *ngIf="
              EndorsementF.get('studentTitle').invalid &&
              (EndorsementF.get('studentTitle').dirty ||
                EndorsementF.get('studentTitle').touched)
            "
            class="
              flex
              items-center
              font-bold
              tracking-wide
              text-red-500 text-xs
              mt-1
              ml-1
            "
          >
            {{
              EndorsementF.get("studentTitle").invalid
                ? "Required"
                : "Invalid field"
            }}
          </span>
        </div>
        <div class="grid grid-cols-6 gap-6">
          <div class="col-span-6">
            <label
              for="street-address"
              class="block text-sm font-medium text-gray-700"
            >
              <span class="text-red-500">*</span>Last name:
            </label>
            <input
              formControlName="lastName"
              type="text"
              placeholder="dela Cruz"
              required
              class="
                mt-1
                block
                w-full
                shadow-sm
                sm:text-sm
                border-blue-500
                focus:border-blue-500
                rounded-md
              "
            />
            <span *ngif="EndorsementF.get('lastName').invalid && (EndorsementF.get('lastName').dirty || EndorsementF.get('lastName').touched)" class="flex items-center font-bold tracking-wide text-red-500 text-xs mt-1 ml-1">
            {{ EndorsementF.get("lastName").invalid ? "Required" : "Invalid field" }}</span>
          </div>

          <div class="col-span-6">
            <label
              for="street-address"
              class="block text-sm font-medium text-gray-700"
            >
              <span class="text-red-500">*</span>First Name:
            </label>
            <input
              formControlName="firstName"
              type="text"
              placeholder="Juan"
              required
              class="
                mt-1
                focus:ring-blue-500 focus:border-blue-500
                block
                w-full
                shadow-sm
                sm:text-sm
                border-gray-300
                rounded-md
              "
            />
            <span
              *ngIf="
                EndorsementF.get('firstName').invalid &&
                (EndorsementF.get('firstName').dirty ||
                  EndorsementF.get('firstName').touched)
              "
              class="
                flex
                items-center
                font-bold
                tracking-wide
                text-red-500 text-xs
                mt-1
                ml-1
              "
            >
              {{
                EndorsementF.get("firstName").invalid
                  ? "Required"
                  : "Invalid field"
              }}
            </span>
          </div>
          <div class="col-span-6">
            <label
              for="street-address"
              class="block text-sm font-medium text-gray-700"
            >
              <span class="text-red-500">*</span>Middle initial:
            </label>
            <input
              formControlName="middleInitial"
              type="text"
              placeholder="A."
              required
              class="
                mt-1
                focus:ring-blue-500 focus:border-blue-500
                block
                w-full
                shadow-sm
                sm:text-sm
                border-gray-300
                rounded-md
              "
            />
            <span
              *ngIf="
                EndorsementF.get('middleInitial').invalid &&
                (EndorsementF.get('middleInitial').dirty ||
                  EndorsementF.get('middleInitial').touched)
              "
              class="
                flex
                items-center
                font-bold
                tracking-wide
                text-red-500 text-xs
                mt-1
                ml-1
              "
            >
              {{
                EndorsementF.get("middleInitial").invalid
                  ? "Required"
                  : "Invalid field"
              }}
            </span>
          </div>
          <div class="col-span-6">
            <label
              for="street-address"
              class="block text-sm font-medium text-gray-700"
            >
              <span class="text-red-500">*</span>Student number:
            </label>
            <input
              formControlName="studentNumber"
              type="number"
              min="2000000000"
              max="2999999999"
              placeholder="2021123456"
              required
              class="
                mt-1
                focus:ring-blue-500 focus:border-blue-500
                block
                w-full
                shadow-sm
                sm:text-sm
                border-gray-300
                rounded-md
              "
            />
            <span
              *ngIf="
                EndorsementF.get('studentNumber').invalid &&
                (EndorsementF.get('studentNumber').dirty ||
                  EndorsementF.get('studentNumber').touched)
              "
              class="
                flex
                items-center
                font-bold
                tracking-wide
                text-red-500 text-xs
                mt-1
                ml-1
              "
            >
              Input must have 10 numerical digits.
            </span>
          </div>
          <div class="col-span-6 sm:col-span-3 lg:col-span-3">
            <label
              for="specialization"
              class="block text-sm font-medium text-gray-700"
            >
              <span class="text-red-500">*</span>Specialization:
            </label>
            <select
              id="specialization"
              formControlName="trackId"
              required
              class="
                mt-1
                block
                w-full
                py-2
                px-3
                border border-gray-300
                bg-white
                rounded-md
                shadow-sm
                focus:outline-none focus:ring-blue-500 focus:border-blue-500
                sm:text-sm
              "
              *ngFor="let program of Program"
            >
              <option *ngFor="let tracks of program.tracks" [value]="tracks.id">
                {{ tracks.name }}
              </option>
            </select>
            <span
              *ngIf="
                EndorsementF.get('trackId').invalid &&
                (EndorsementF.get('trackId').dirty ||
                  EndorsementF.get('trackId').touched)
              "
              class="
                flex
                items-center
                font-bold
                tracking-wide
                text-red-500 text-xs
                mt-1
                ml-1
              "
            >
              {{
                EndorsementF.get("trackId").invalid
                  ? "Required"
                  : "Invalid field"
              }}
            </span>
          </div>
          <div class="col-span-6 sm:col-span-3 lg:col-span-3">
            <label
              for="country"
              class="block text-sm font-medium text-gray-700"
            >
              <span class="text-red-500">*</span>Company name:
            </label>
            <select
              id="country"
              formControlName="companyId"
              [(ngModel)]="selectCompany"
              (change)="selectedC()"
              type="number"
              required
              class="
                mt-1
                block
                w-full
                py-2
                px-3
                border border-gray-300
                bg-white
                rounded-md
                shadow-sm
                focus:outline-none focus:ring-blue-500 focus:border-blue-500
                sm:text-sm
              "
            >
              <option *ngFor="let company of Company" [ngValue]="company.id">
                {{ company.name }}
              </option>
            </select>
            <span
              *ngIf="
                EndorsementF.get('companyId').invalid &&
                (EndorsementF.get('companyId').dirty ||
                  EndorsementF.get('companyId').touched)
              "
              class="
                flex
                items-center
                font-bold
                tracking-wide
                text-red-500 text-xs
                mt-1
                ml-1
              "
            >
              {{
                EndorsementF.get("companyId").invalid
                  ? "Required"
                  : "Invalid field"
              }}
            </span>
          </div>

          <div class="col-span-6">
            <label
              for="street-address"
              class="block text-sm font-medium text-gray-700"
            >
              <span class="text-red-500">*</span>Email address of Contact
              Person:
            </label>
            <input
              formControlName="contactPersonEmail"
              type="email"
              placeholder="companyrep@mail.com"
              required
              class="
                mt-1
                focus:ring-blue-500 focus:border-blue-500
                block
                w-full
                shadow-sm
                sm:text-sm
                border-gray-300
                rounded-md
              "
            />
            <span
              *ngIf="
                EndorsementF.get('contactPersonEmail').invalid &&
                (EndorsementF.get('contactPersonEmail').dirty ||
                  EndorsementF.get('contactPersonEmail').touched)
              "
              class="
                flex
                items-center
                font-bold
                tracking-wide
                text-red-500 text-xs
                mt-1
                ml-1
              "
            >
              {{
                EndorsementF.get("contactPersonEmail").invalid
                  ? "Required"
                  : "Invalid field"
              }}
            </span>
          </div>

          <div class="col-span-6 sm:col-span-3 lg:col-span-3">
            <label
              for="country"
              class="block text-sm font-medium text-gray-700"
            >
              <span class="text-red-500">*</span>Title of Contact Person:
            </label>
            <select
              id="country"
              formControlName="contactPersonTitle"
              required
              class="
                mt-1
                block
                w-full
                py-2
                px-3
                border border-gray-300
                bg-white
                rounded-md
                shadow-sm
                focus:outline-none focus:ring-blue-500 focus:border-blue-500
                sm:text-sm
              "
            >
              <option>Mr.</option>
              <option>Ms.</option>
              <option>Engr.</option>
              <option>Atty.</option>
            </select>
            <span
              *ngIf="
                EndorsementF.get('contactPersonTitle').invalid &&
                (EndorsementF.get('contactPersonTitle').dirty ||
                  EndorsementF.get('contactPersonTitle').touched)
              "
              class="
                flex
                items-center
                font-bold
                tracking-wide
                text-red-500 text-xs
                mt-1
                ml-1
              "
            >
              {{
                EndorsementF.get("contactPersonTitle").invalid
                  ? "Required"
                  : "Invalid field"
              }}
            </span>
          </div>

          <div class="col-span-6">
            <label
              for="street-address"
              class="block text-sm font-medium text-gray-700"
            >
              <span class="text-red-500">*</span>Last Name of Contact Person:
            </label>
            <input
              type="text"
              placeholder="Santos"
              required
              formControlName="contactPersonLastName"
              class="
                mt-1
                focus:ring-blue-500 focus:border-blue-500
                block
                w-full
                shadow-sm
                sm:text-sm
                border-gray-300
                rounded-md
              "
            />
            <span
              *ngIf="
                EndorsementF.get('contactPersonLastName').invalid &&
                (EndorsementF.get('contactPersonLastName').dirty ||
                  EndorsementF.get('contactPersonLastName').touched)
              "
              class="
                flex
                items-center
                font-bold
                tracking-wide
                text-red-500 text-xs
                mt-1
                ml-1
              "
            >
              {{
                EndorsementF.get("contactPersonLastName").invalid
                  ? "Required"
                  : "Invalid field"
              }}
            </span>
          </div>

          <div class="col-span-6">
            <label
              for="street-address"
              class="block text-sm font-medium text-gray-700"
            >
              <span class="text-red-500">*</span>First Name of Contact Person:
            </label>
            <input
              type="text"
              placeholder="Thomasnino"
              required
              formControlName="contactPersonFirstName"
              class="
                mt-1
                focus:ring-blue-500 focus:border-blue-500
                block
                w-full
                shadow-sm
                sm:text-sm
                border-gray-300
                rounded-md
              "
            />
            <span
              *ngIf="
                EndorsementF.get('contactPersonFirstName').invalid &&
                (EndorsementF.get('contactPersonFirstName').dirty ||
                  EndorsementF.get('contactPersonFirstName').touched)
              "
              class="
                flex
                items-center
                font-bold
                tracking-wide
                text-red-500 text-xs
                mt-1
                ml-1
              "
            >
              {{
                EndorsementF.get("contactPersonFirstName").invalid
                  ? "Required"
                  : "Invalid field"
              }}
            </span>
          </div>

          <div class="col-span-6">
            <label
              for="street-address"
              class="block text-sm font-medium text-gray-700"
            >
              <span class="text-red-500">*</span>Designation of Contact Person:
            </label>
            <input
              formControlName="contactPersonPosition"
              type="text"
              placeholder="Managing Director"
              required
              class="
                mt-1
                focus:ring-blue-500 focus:border-blue-500
                block
                w-full
                shadow-sm
                sm:text-sm
                border-gray-300
                rounded-md
              "
            />
            <span
              *ngIf="
                EndorsementF.get('contactPersonPosition').invalid &&
                (EndorsementF.get('contactPersonPosition').dirty ||
                  EndorsementF.get('contactPersonPosition').touched)
              "
              class="
                flex
                items-center
                font-bold
                tracking-wide
                text-red-500 text-xs
                mt-1
                ml-1
              "
            >
              {{
                EndorsementF.get("contactPersonPosition").invalid
                  ? "Required"
                  : "Invalid field"
              }}
            </span>
          </div>
          <div class="col-span-6">
            <label
              for="street-address"
              class="block text-sm font-medium text-gray-700"
            >
              <span class="text-red-500">*</span>Job Description:
            </label>
            <input
              formControlName="jobDescription"
              type="text"
              placeholder="Managing Director"
              required
              class="
                mt-1
                focus:ring-blue-500 focus:border-blue-500
                block
                w-full
                shadow-sm
                sm:text-sm
                border-gray-300
                rounded-md
              "
            />
            <span
              *ngIf="
                EndorsementF.get('jobDescription').invalid &&
                (EndorsementF.get('jobDescription').dirty ||
                  EndorsementF.get('jobDescription').touched)
              "
              class="
                flex
                items-center
                font-bold
                tracking-wide
                text-red-500 text-xs
                mt-1
                ml-1
              "
            >
              {{
                EndorsementF.get("jobDescription").invalid
                  ? "Required"
                  : "Invalid field"
              }}
            </span>
          </div>
          <div class="col-span-6 sm:col-span-3 lg:col-span-3">
            <label
              for="company-profile"
              class="block text-sm font-medium text-gray-700"
            >
              <span class="text-red-500">*</span>Upload company profile:
            </label>
            <input
              class="pt-4"
              type="file"
              id="myFile"
              name="filename"
              accept="application/msword, application/pdf"
              (change)="imgCompanyProfile($event)"
              required
            />
            <p class="text-gray-600 text-xs">File must be in PDF or DOCX format</p>
            <span *ngIf="EndorsementF.get('filename').invalid && (EndorsementF.get('filename').dirty || EndorsementF.get('filename').touched)" class="flex items-center font-bold tracking-wide text-red-500 text-xs mt-1 ml-1">
              {{ EndorsementF.get("filename").invalid ? "Required" : "Invalid field" }}</span>
          </div>

          <div class="col-span-6 sm:col-span-3 lg:col-span-3">
            <label
              for="acceptance-letter"
              class="block text-sm font-medium text-gray-700"
            >
              <span class="text-red-500">*</span>Upload acceptance letter:
            </label>
            <input
              class="pt-4"
              type="file"
              id="myFile"
              name="filename"
              accept="application/msword, application/pdf"
              (change)="imgAcceptanceL($event)"
              required
            />
            <p class="text-gray-600 text-xs">File must be in PDF or DOCX format</p>
          </div>
        </div>
      </div>
      <div class="px-4 py-3 bg-gray-50 text-right sm:px-6">
        <button
          type="submit"
          class="
            inline-flex
            justify-center
            py-2
            px-8
            border border-transparent
            shadow-sm
            text-sm
            font-semibold
            rounded-md
            text-white
            bg-red-600
            hover:bg-red-500
            bg-opacity-75
            focus:outline-none
            focus:ring-2
            focus:ring-offset-2
            focus:ring-red-500
          "
          [disabled]="modalAppear || !EndorsementF.valid"
        >
          Submit
        </button>
      </div>
    </div>
  </form>
</div>

<!--modal content-->
<div
  class="
    fixed
    z-10
    inset-0
    mx-auto
    p-8
    border
    mt-12
    w-96
    h-72
    shadow-lg
    rounded-md
    bg-white
  "
  *ngIf="modalAppear"
>
  <div class="text-center">
    <div
      class="mx-auto flex items-center justify-center h-40 w-40 rounded-full"
    >
      <img
        src="https://res.cloudinary.com/daljbo1q0/image/upload/v1634090673/Landing/mail_eexlbl.gif"
      />
    </div>
    <h3 class="pt-4 text-xl leading-6 font-semibold text-gray-900">
      Submitting the form...
    </h3>
  </div>
</div>

<!--Overlay Effect-->
<div
  class="
    fixed
    inset-0
    overflow-hidden
    bg-gray-600 bg-opacity-50
    overflow-y-auto
    h-full
    w-full
  "
  *ngIf="modalAppear"
></div>

<app-footer></app-footer>
